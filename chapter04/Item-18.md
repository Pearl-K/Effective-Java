# Item 18. 상속보다는 컴포지션을 사용하라
## 상속의 단점과 한계점
- 상속은 코드를 재사용하고 확장할 수 있는 강력한 수단이다.
- 그러나, 잘못 사용하면 상속이 캡슐화를 깨뜨려 객체의 유연성을 해치는 설계가 될 수 있다. 
- 상위 클래스의 구현에 따라서 하위 클래스 동작에 이상이 생길 수 있다.
- 그러므로 상위 클래스 설계자가 확장을 충분히 고려하고, 문서화를 해두지 않으면 하위 클래스는 상위 클래스의 변화에 맞춰 수정해야 한다.


## Composition
- Composition(컴포지션)이란 기존 클래스를 확장하는 대신, 새로운 클래스를 만들고 `private` 필드로 기존 클래스의 인스턴스를 참조하는 방법을 통해 기능을 확장시키는 것이다.
- 새로운 클래스의 인스턴스 메서드들은 `private` 필드로 참조하는 기존 클래스의 대응하는 메서드를 호출해 그 결과를 반환하며, 이를 forwarding(전달)이라 한다. 
- 이렇게 구현하면 새로운 클래스는 기존 클래스의 내부 구현 방식의 영향에서 벗어날 수 있으며, 기존 클래스에 새로운 메서드가 추가되더라도 전혀 영향을 받지 않는다. (가져다 쓰면 됨)


## 상속을 올바르게 사용하는 경우?
- 상속은 하위 클래스가 상위 클래스의 real 하위 타입인 상황에서만 사용해야 한다.(B is A 일 때)
- 클래스 B가 클래스 A를 상속하려고 할 때, 위 관계가 성립하는지 확신할 수 없다면 상속해선 안된다.
- 컴포지션 대신 상속을 사용하기로 결정하기 전에 확장하려는 클래스의 API에 아무런 결함이 없는지 확인해보고, 그 결함이 하위 클래스에 전파될 가능성을 고려해야한다.