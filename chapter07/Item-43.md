# Item 43. 람다보다는 메서드 참조를 사용하라
- 람다를 사용하는 이유 중에 하나는 코드의 간결함이었다.
- 그러나, 메서드 참조를 사용하면 (함수 객체를 만들 때) 람다보다 더 간결하게 만들 수도 있다.


## 메서드 참조
- 메서드 참조는
- 따라서, 람다 대신 특정 메서드의 참조를 전달하면 같은 결과를 더 간결하고 보기 좋게 얻을 수 있다.
- 또한, 람다로는 불가능하나 메서드 참조로만 가능한 경우도 있다.
    - 제네릭 함수 타입 구현
    - 함수 타입도 제네릭일 수 있으나, 제네릭 람다식은 존재하지 않기 때문에 표현이 불가능하다.


```java
map.merge(key, 1, (count, incr) -> count + incr); // 1. 람다 전달
map.merge(key, 1, Integer::sum); // 2. 메서드 참조 전달
```


특히, 매개변수 수가 늘어날수록 메서드 참조로 제거할 수 있는 코드양도 늘어난다.


하지만, 어떤 람다에서는 매개변수의 이름 자체가 좋은 코드 가이드가 될 수 있다. 
이런 람다는 코드 길이가 더 길더라도, 메서드 참조보다 읽기 쉽고 유지 보수가 쉽기 때문에 유지하는게 더 좋을 수 있다.


## 람다가 메서드 참조보다 더 좋을 수 있는 경우
- 주로 메서드와 람다가 같은 클래스에 있을 때 일어난다.
- 특정 클래스 이름이 매우 길고, 메서드 이름은 비교적 명확한 상황을 가정하자.


```java
service.execute(OneExampleForLongClassName::action); // 1. 메서드 참조 사용
service.execute(() -> action()); // 2. 람다 사용
```


## 메서드 참조 유형
| 메서드 참조 유형    | 예시 코드    | 같은 기능을 하는 람다   |
|-------------------|------------|-----------------------|
| 정적 메서드 참조 (static)   | `Integer::parseInt;` | `str -> Integer.parseInt(s)`  |
| 한정적 인스턴스 메서드 참조 (bound instance) |  `System.out::println; `      | `s -> System.out.println(s)`  |
| 비한정적 인스턴스 메서드 참조 (unbound instance) | `String::toLowerCase;`    | `s -> s.toLowerCase()`   |
| 클래스 생성자 참조 (constructor)  | ` ArrayList::new;`    | `() -> new ArrayList<>()`  |
| 배열 생성자 참조 (array constructor) | `String[]::new;`   | `len -> new String[len]`    |


1. 한정적 인스턴스 메서드 참조는 수신 객체(참조 대상 인스턴스)를 특정한다.
2. 비한정적 인스턴스 메서드 참조는 수신 객체를 특정하지 않는다.
    > 수신 객체란?
    >
    > 수신 객체란 메서드를 실제로 호출할 대상이 되는 인스턴스를 말한다.
    > 람다나 메서드 참조가 호출될 때 “누구의 메서드를 실행할 건지” 그 주체가 되는 객체를 뜻한다.
    >

    
    | 구분                | 메서드 참조 예시           | 호출 시 파라미터            | 수신 객체 지정 시점        |
    | ----------------- | ------------------- | -------------------- | ------------------ |
    | **한정적(bound)**    | `emp::getName`      | `()`                 | 참조 구문에 이미 고정(emp)  |
    | **비한정적(unbound)** | `Employee::getName` | `(e) -> e.getName()` | 호출 구문에 파라미터(e)로 지정 |


3. 생성자 참조는 팩토리 객체로 사용된다.



## Summary
- 메서드 참조는 람다의 간단명료한 대안이 될 수 있다.
- 람다 사용과 코드를 비교했을 때, 메서드 참조 쪽이 짧고 명확하다면 메서드 참조를 사용하자.
    - 만약, 람다로 의미나 가독성이 더 좋다면 람다를 사용하자.